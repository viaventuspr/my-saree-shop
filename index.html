<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∑É‡∑í‡∂ª‡∑í ‡∑É‡∑è‡∂ª‡∑í | ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑î‡∂õ‡∂≠‡∂∏ ‡∑É‡∑è‡∂ª‡∑í ‡∂ë‡∂ö‡∂≠‡∑î‡∑Ä</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8B4513;
            --primary-dark: #5D2E0F;
            --accent: #D4AF37;
            --accent-light: #F4E4C1;
            --text-dark: #2C1810;
            --text-medium: #6B4423;
            --bg-cream: #FAF6F0;
            --bg-white: #FFFFFF;
            --border-color: #E8DCC8;
            --shadow: rgba(139, 69, 19, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Lato', sans-serif; background: var(--bg-cream); color: var(--text-dark); }

        /* Navigation & Header */
        .top-bar { background: var(--primary-dark); color: white; padding: 10px 5%; display: flex; justify-content: space-between; font-size: 0.85rem; }
        .top-bar a { color: var(--accent-light); text-decoration: none; margin-left: 15px; }
        header { background: white; padding: 20px 5%; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px var(--shadow); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Playfair Display', serif; font-size: 2.2rem; color: var(--primary); font-weight: 700; }

        /* Hero Slider */
        .hero-slider { position: relative; height: 500px; overflow: hidden; background: #333; }
        .slide { position: absolute; width: 100%; height: 100%; opacity: 0; transition: 1s; display: flex; align-items: center; padding: 0 10%; color: white; background-size: cover; background-position: center; }
        .slide.active { opacity: 1; }
        .slide-content h2 { font-family: 'Playfair Display', serif; font-size: 3rem; margin-bottom: 20px; }

        /* Product Grid */
        .products-section { padding: 50px 5%; max-width: 1400px; margin: 0 auto; }
        .section-title { font-family: 'Playfair Display', serif; text-align: center; font-size: 2.5rem; color: var(--primary); margin-bottom: 40px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
        
        .product-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px var(--shadow); transition: 0.3s; position: relative; }
        .product-card:hover { transform: translateY(-10px); }
        .product-image-container { height: 350px; overflow: hidden; background: #eee; position: relative; }
        .product-image-container img { width: 100%; height: 100%; object-fit: cover; }
        
        .product-info { padding: 20px; }
        .product-name { font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-weight: 600; margin-bottom: 10px; }
        .price { font-size: 1.5rem; color: var(--primary); font-weight: 700; }
        .price-original { text-decoration: line-through; color: #999; font-size: 1rem; margin-left: 10px; }
        
        .add-to-cart-btn { width: 100%; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; margin-top: 15px; font-weight: bold; }

        /* Admin Popup */
        .admin-popup { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; }
        .admin-popup.active { display: flex; }
        .admin-content { background: white; padding: 40px; border-radius: 15px; max-width: 500px; width: 90%; }
        
        @media (max-width: 768px) {
            .top-bar { flex-direction: column; text-align: center; gap: 5px; }
            .slide-content h2 { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div>üìû +94 77 123 4567 | ‚úâÔ∏è info@sirisaree.lk</div>
        <div>
            üöö Free Delivery over Rs. 5,000
            <a href="#" onclick="openAdmin()">üîê Admin</a>
        </div>
    </div>

    <header>
        <div class="logo">‡∑É‡∑í‡∂ª‡∑í ‡∑É‡∑è‡∂ª‡∑í</div>
        <div class="header-actions">‚ù§Ô∏è üõí</div>
    </header>

    <section class="hero-slider">
        <div class="slide active" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1610030469983-98e550d6193c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');">
            <div class="slide-content">
                <h2>‡∑É‡∂∏‡∑ä‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑è‡∂∫‡∑í‡∂ö ‡∑É‡∑è‡∂ª‡∑í ‡∂ë‡∂ö‡∂≠‡∑î‡∑Ä</h2>
                <p>‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç ‡∑Ä‡∂ß‡∑ä‡∂ß‡∂∏‡∑ä ‡∑É‡∑Ñ‡∑í‡∂≠‡∑Ä ‡∂Ö‡∂Ø‡∂∏ ‡∂á‡∂´‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</p>
            </div>
        </div>
    </section>

    <section class="products-section">
        <h2 class="section-title">‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä‡∂∏ ‡∂ë‡∂ö‡∂≠‡∑î‡∑Ä</h2>
        <div id="productGrid" class="product-grid">
            <div class="loading" style="text-align: center; grid-column: 1/-1;">‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂¥‡∑ñ‡∂ª‡∂´‡∂∫ ‡∑Ä‡∑ô‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑ì...</div>
        </div>
    </section>

    <div class="admin-popup" id="adminPopup">
        <div class="admin-content">
            <h3>Admin Panel</h3>
            <p style="margin: 15px 0;">‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö Google Sheet ‡∂ë‡∂ö ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
            <a href="https://docs.google.com/spreadsheets/d/1YNPAC7OCg47t-OBKaG91_q39qGU6MePatB8uL-rLVFg/edit" target="_blank" style="display:block; background: var(--accent); color: black; text-align: center; padding: 10px; text-decoration: none; border-radius: 5px; font-weight: bold;">Open Google Sheet</a>
            <button onclick="closeAdmin()" style="margin-top: 20px; border: none; background: none; color: red; cursor: pointer;">Close [x]</button>
        </div>
    </div>

    <script>
        const SHEET_ID = '1YNPAC7OCg47t-OBKaG91_q39qGU6MePatB8uL-rLVFg';
        const WHATSAPP_NUM = '94771234567';

        async function fetchProducts() {
            const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;
            try {
                const response = await fetch(url);
                const text = await response.text();
                const json = JSON.parse(text.substring(47).slice(0, -2));
                const rows = json.table.rows;

                // Column Index Mapping: 0: Name, 1: Category, 2: Price, 3: Image URL, 7: Old Price
                const products = rows.slice(1).map(row => ({
                    name: row.c[0]?.v || "Saree",
                    category: row.c[1]?.v || "General",
                    price: row.c[2]?.v || "0",
                    img: row.c[3]?.v || "https://via.placeholder.com/300x400?text=Saree",
                    oldPrice: row.c[7]?.v || ""
                }));

                displayProducts(products);
            } catch (error) {
                console.error("Error:", error);
                document.getElementById('productGrid').innerHTML = "‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ö‡∂Ø‡∑ì ‡∂Ø‡∑ù‡∑Ç‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑Ä‡∑í‡∂∫.";
            }
        }

        function displayProducts(products) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = products.map(p => `
                <div class="product-card">
                    <div class="product-image-container">
                        <img src="${p.img}" alt="${p.name}" onerror="this.src='https://via.placeholder.com/300x400?text=No+Image'">
                    </div>
                    <div class="product-info">
                        <div style="color: #888; font-size: 0.8rem;">${p.category}</div>
                        <h3 class="product-name">${p.name}</h3>
                        <div class="product-price">
                            <span class="price">‡∂ª‡∑î. ${p.price}</span>
                            ${p.oldPrice ? `<span class="price-original">‡∂ª‡∑î. ${p.oldPrice}</span>` : ''}
                        </div>
                        <button class="add-to-cart-btn" onclick="sendWhatsApp('${p.name}')">WhatsApp ‡∂∏‡∂ú‡∑í‡∂±‡∑ä ‡∂á‡∂´‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
                    </div>
                </div>
            `).join('');
        }

        function sendWhatsApp(name) {
            const msg = encodeURIComponent(`‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä! ‡∂∏‡∂∏ ‡∂∏‡∑ô‡∂∏ ‡∑É‡∑è‡∂ª‡∑í‡∂∫ ‡∂á‡∂´‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ö‡∑ê‡∂∏‡∂≠‡∑í‡∂∫‡∑í: ${name}`);
            window.open(`https://wa.me/${WHATSAPP_NUM}?text=${msg}`, '_blank');
        }

        function openAdmin() { document.getElementById('adminPopup').classList.add('active'); }
        function closeAdmin() { document.getElementById('adminPopup').classList.remove('active'); }

        // Slide Show
        let currentSlide = 0;
        setInterval(() => {
            const slides = document.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }, 5000);

        window.onload = fetchProducts;
    </script>
</body>
</html>
